<launch>
   <include file="$(find robotino_node)/launch/robotino_node.launch">
    <arg name="hostname" value="129.69.102.242"/>
    <!-- more default parameters can be changed here -->
  </include>
  
  <param name="robot_description" textfile="$(find robotino_description)/robotino.urdf" />

  <!-- publish map details -->
  <!--arg name="map_file" default="/home/cpfactory/mymap.yaml"/-->
  
  
  <!-- publish map details -->
  <arg name="map_file" default="//home/varthini/catkin_ws/src/IDT/FinalScannerMap1.yaml"/>
  
  <node pkg="map_server" type="map_server" args="$(arg map_file)" respawn="true" name="map1" />
	
    
 
  	
  <node pkg="amcl" type="amcl" name="amcl" output="screen">
    <remap from="scan" to="/scan"/>
    <param name="odom_frame_id" value="odom"/>
    <param name="odom_model_type" value="omni-corrected"/>
    <param name="base_frame_id" value="base_link"/>
    <param name="update_min_d" value="0.01"/>    <!--1cm  change-->
    <param name="update_min_a" value="0.05"/>  <!--2.865 degree change-->
 </node>

  <node pkg="move_base" type="move_base" respawn="false" name="move_base" output="screen">
  	<!--param name="base_global_planner" value="navfn/NavfnROS" / -->
  	<!-- param name="base_local_planner" value="base_local_planner/TrajectoryPlannerROS"/ -->
  	
    <remap from="cmd_vel" to="/cmd_vel_real" /> 
    
    <rosparam file="$(find digital_twin)/param/costmap_common_params.yaml" command="load" ns="global_costmap" />
    <rosparam file="$(find digital_twin)/param/costmap_common_params.yaml" command="load" ns="local_costmap" />
    <rosparam file="$(find digital_twin)/param/local_costmap_params.yaml" command="load" />
    <rosparam file="$(find digital_twin)/param/global_costmap_params.yaml" command="load" />
    <rosparam file="$(find digital_twin)/param/base_local_planner_params.yaml" command="load" />
    <rosparam file="$(find digital_twin)/param/dwa_local_planner_params.yaml" command="load" />
    <rosparam file="$(find digital_twin)/param/move_base_params.yaml" command="load" />
  </node>

  <node name="my_odom" pkg="digital_twin" type="odom.py" output="screen"/>

  <node pkg="rviz" type="rviz" name="rviz" args="-d $(find real_nav_control)/param/rvizConfigNew.rviz" respawn="true"/>
  
</launch>
